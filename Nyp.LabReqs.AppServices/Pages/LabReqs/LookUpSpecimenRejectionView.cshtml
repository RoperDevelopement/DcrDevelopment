@page
@model EDocs.Nyp.LabReqs.AppServices.LookUpSpecimenRejectionViewModel
@{
    ViewData["Title"] = "LookUpSpecimenRejectionView";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}
<div id="headingSessionExp" style="display:none">
    <h3 class="text-center text-danger border">Your Session will expire in&nbsp;<span id="seconds"></span>&nbsp;seconds.<br /></h3>
</div>
@*
    <partial name="Shared/_RecordsNetImage" />
*@
<div id="divMain" name="divMain">
    <h1 class="text-center">Specimen Rejection Logs</h1>
    <p class="p-1" />

    <div style="background-color:white;">
        <div class="container-fluid">
            <p class="p-2" />
            <a href="#searchOptions" name="sOptions" id="sOptions" class=" btn btn-primary text-center" data-toggle="collapse" onmouseout="document.getElementById('showmess').style.display = 'none'" onmouseover="document.getElementById('showmess').style.display = 'block'">Search Options</a>
            <p class="alert-light" id="showmess" style="display:none">Click to expand/hide Search Options</p>

            <input type="hidden" id="partsearch" name="partsearch" value="" />
            <div id="searchOptions" class="collapse">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th class="text-center">Search Begin Date</th>
                            <th class="text-center">Search End Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="text-center"><input type="date" id="searchStartDate" name="searchStartDate" value="@Model.StartDate" /></td>
                            <td class="text-center"><input type="date" id="searchEndDate" name="searchEndDate" value="@Model.EndDate" /></td>


                        </tr>
                    </tbody>

                </table>
                <div id="checkboxSearchDates" style="display:none">
                    <input type="hidden" id="searchBydate" name="searchBydate" />
                    <div class="row alert-info">
                        <div class="col-2">
                            <p>Search By</p>
                        </div>
                        <div class="col-3">
                            <input type="radio" name="lDate" id="lDate" />&nbsp;Date of Service

                        </div>
                        <div class="col-2">
                            <input type="radio" id="sDate" name="sDate" value="SDate" />&nbsp;Scan Date
                        </div>
                    </div>
                </div>
                <p class="p-0" />
                <div class="row">
                    <div class="col">
                        <button type="button" class="btn btn-outline-dark btn-block" id="btnFromYear" name="btnFromYear">Case Number</button>
                    </div>
                    @*
                        <div class="col">
                            <button type="button" class="btn btn-outline-dark btn-block" id="btnFromNumber" name="btnFromNumber">Log From Number</button>
                        </div>
                    *@
                    <div class="col">
                        <button type="button" class="btn btn-outline-dark btn-block" id="btnFReason" name="btnFReason">Rejection Reason</button>
                    </div>
                    @*
                        <div class="col">
                            <button type="button" class="btn btn-outline-dark btn-block" id="btnScanOpt" name="btnScanOpt">Scan Operator</button>
                        </div>
                    *@

                </div>
                <p class="p-0" />
                <div class="row">
                    @*
                        <div class="col" ">
                            <button type="button" class="btn btn-outline-dark btn-block" id="btnSB" name="btnSB">Scan Batch</button>
                        </div>
                    *@
                    <div class="col" style="display:none" id="colbtnld">
                        <button type="button" class="btn btn-outline-dark btn-block" id="btnlookUpByDate" name="btnlookUpByDate">Search By Date</button>
                    </div>
                    <div class="col" ">
                        <a class="btn btn-outline-warning btn-block btn-link" id="btnrest" href="/LabReqs/LookUpSpecimenRejectionView" name="btnrest" role="button">Reset</a>

                    </div>

                    <div class="col" ">
                        <a class="btn btn-outline-danger btn-block btn-link" id="btnexit" href="/Index" name="btnexit" role="button">Exit</a>

                    </div>
                </div>
                <p class="p-2" />
            </div>
        </div>

    </div>

</div> @*end of main div*@


<div id="divLoading" style="margin: 0px; padding: 0px; position: fixed; right: 0px;
        top: 0px; width: 100%; height: 100%; background-color: #666666; z-index: 30001;
        opacity: .8; filter: alpha(opacity=70);display:none">
    <p id="parLoading" style="position: absolute; top: 30%; left: 45%; color: White;">
        Getting data, please wait...<img src="~/Images/ajax-loading.gif">
    </p>
</div>

@*
    @{
       await Html.RenderPartialAsync("Partial_Pages/LoadingPagePartialView");
    }
    @if ((@Model.DicSpecimenRejectionModel != null) && (@Model.DicSpecimenRejectionModel.Count > 0))
*@
@if ((@Model.DicSpecimenRejectionModel != null))
{
    <div id="divLabReqs">
        <p class="text-left">Total Query Time @Model.TotalQueryTime</p>
        <p class="p-0" />
        <table class="table table-hover w-auto" width="100%" id="dtLabReqs">
            <thead>
                <tr>
                    <th>File URL</th>
                    <th>Case Number</th>
                    <th>Rejection Reason</th>
                    <th>Date of Service</th>
                    <th>Scan Date</th>
                    <th>Scan Operator</th>
                    <th>Scan Batch ID</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var items in Model.DicSpecimenRejectionModel)
                {

                    <tr>

                        <td> <a href="/Partial_Pages/DisplayPdfFilePartialView?pdfurl=@items.Value.FileUrl" target="_blank"><img src="~/Images/small_export-to-pdf-icon-pdf-export-toolbar-icon.png" width="20" height="25" /></a></td>
                        <td>@items.Value.FromNumber</td>
                        <td>@items.Value.FromReason</td>
                        <td>@items.Value.LogDate.ToString("MM/dd/yyyy")</td>
                        <td>@items.Value.ScanDate</td>
                        <td>@items.Value.ScanOperator</td>
                        <td>@items.Value.ScanBatch</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
<!-- Modal From Year -->
<div id="myModalFromYear" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="display:none">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-center">Search Specimen Rejection Logs by Case Numbers</h4>
                <button type="button" class="close" data-dismiss="modal" onclick="BtnClick('btnCloseFromYear')">&times;</button>
            </div>
            <p class="p-0"></p>
            @*
                <h6 class="text-center alert-info">You can search using From Year and/or From Number</h6>
            *@
            <div class="modal-body">
                <form method="get" id="searchFromYear" name="searchFromYear" class="form-horizontal">
                    @*
                        <div class="row">
                            <div class="col">

                                <div nowrap class="form-group form-inline">

                                    @Html.LabelFor(model => model.SpecimenRejection.FromYear, new { @class = "text-nowrap" })&nbsp;
                                    @Html.TextAreaFor(m => m.SpecimenRejection.FromYear, new { @maxlength = "4", @class = "form-control-sm text-nowrap border", @placeholder = "From Year" })<p class="text-danger" id="searchFromYearBlank" style="display:none">*Need From Year or both From Year From Numner </p>
                                </div>

                            </div>
                        </div>
                    *@
                    <div class="row">
                        <div class="col">

                            <div class="form-group form-inline">
                                @Html.LabelFor(model => model.SpecimenRejection.FromNumber, new { @class = "text-nowrap" })&nbsp;
                                @Html.TextAreaFor(m => m.SpecimenRejection.FromNumber, new { @maxlength = "16", @class = "form-control-sm text-nowrap border", @placeholder = "Case Number" })<p class="text-danger" id="searchFromNumberBlank" style="display:none">*Need Case Number </p>
                            </div>

                        </div>
                    </div>

                    <div class="row">
                        <div class="col">

                            @Html.CheckBoxFor(m => m.SpecimenRejection.SearchPartial)
                            <label class="text-nowrap" for="scanOp">Case Number Starts With</label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnsearchFromYear" name="btnsearchFromYear" class="btn btn-pill btn-outline-primary">Search</button>
                <button type="button" id="btnCloseFromYear" name="btnCloseFromYear" class="btn btn-pill btn-outline-danger" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<!-- Modal From Number -->
@*
    <div id="myModalFromNumber" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="display:none">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title text-center">Search Specimen Rejection Log's by Case Number</h4>
                    <button type="button" class="close" data-dismiss="modal" onclick="BtnClick('btnCloseFromNumber')">&times;</button>


                </div>
                <div class="modal-body">
                    <form method="get" id="searchFromNumber" name="searchFromNumber" class="form-horizontal">

                        <div class="row">
                            <div class="col">

                                <div class="form-group form-inline">
                                    @Html.LabelFor(model => model.SpecimenRejection.FromNumber, new { @class = "text-nowrap" })&nbsp;
                                    @Html.TextAreaFor(m => m.SpecimenRejection.FromNumber, new { @maxlength = "16", @class = "form-control-sm text-nowrap border", @placeholder = "Case Number " })
                                </div>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col">

                                @Html.CheckBoxFor(m => m.SpecimenRejection.SearchPartial)
                                <label class="text-nowrap" for="scanOp"> Case Number Starts With</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnsearchFromNumber" name="btnsearchFromNumber" class="btn btn-pill btn-outline-primary">Search</button>
                    <button type="button" id="btnCloseFromNumber" name="btnCloseFromNumber" class="btn btn-pill btn-outline-danger" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>
*@
<!-- Modal rejection reason -->
<div id="myModalRejectResons" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="display:none">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-center">Search Specimen Rejection Logs by Rejection Reasons</h4>
                <button type="button" class="close" data-dismiss="modal" onclick="BtnClick('btnCloseRejectResons')">&times;</button>


            </div>
            <h6 class="text-center alert-info">Can use Case Number</h6>
            <div class="modal-body">
                <form method="get" id="searchRejectResons" name="searchRejectResons" class="form-horizontal">
                    @*
                        <div class="row">
                            <div class="col">

                                <div class="form-group form-inline">
                                    @Html.LabelFor(model => model.SpecimenRejection.FromYear, new { @class = "text-nowrap" })&nbsp;
                                    @Html.TextAreaFor(m => m.SpecimenRejection.FromYear, new { @maxlength = "4", @class = "form-control-sm text-nowrap border", @placeholder = "Not Required " })
                                </div>

                            </div>
                        </div>
                    *@
                    <div class="row">
                        <div class="col">

                            <div class="form-group form-inline">
                                @Html.LabelFor(model => model.SpecimenRejection.FromNumber, new { @class = "text-nowrap" })&nbsp;
                                @Html.TextAreaFor(m => m.SpecimenRejection.FromNumber, new { @maxlength = "16", @class = "form-control-sm text-nowrap border", @placeholder = "Not Required " })
                            </div>

                        </div>
                    </div>


                    <div class="row">
                        <div class="col">

                            <div class="form-group">
                                <text class="text-nowrap" for="rejlogreason">Select Rejection Reason: </text>&nbsp;
                                @if (@Model.RejectLogsReson != null)
                                {
                                    <select id="rejectlogreason">
                                        <option value="string-empty"></option>
                                        @foreach (string rej in Model.RejectLogsReson)
                                        {
                                            <option value="@rej">@rej</option>
                                        }
                                    </select>

                                }
                                else
                                {
                                    <p class="text-info">No Rejection Reason Found </p>
                                }
                                <p class="text-danger" id="searchFromReasonBlank" style="display:none">* Need From Reason? </p>
                            </div>

                        </div>
                    </div>
                    <p class="p-2" />

                    @Html.CheckBoxFor(m => m.SpecimenRejection.SearchPartial)
                    <label class="text-nowrap" for="scanOp">Case Number Starts With</label>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnsearchRejectResons" name="btnsearchRejectResons" class="btn btn-pill btn-outline-primary">Search</button>
                <button type="button" id="btnCloseRejectResons" name="btnCloseRejectResons" class="btn btn-pill btn-outline-danger" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>


<!-- Modal Scan Operator-->
<div id="myModalscanOp" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="display:none">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-center">Search Specimen Rejection Logs by Scan Operator</h4>
                <button type="button" class="close" data-dismiss="modal" onclick="BtnClick('btnclosescanOp')">&times;</button>


            </div>
            <div class="modal-body">
                <form method="get" id="searchscanOp" name="searchscanOp">

                    <div class="row">
                        <div class="col">

                            @*    <label class="text-nowrap">Scan Operator Name:</label>*@
                            <div nowrap class="form-group form-inline">
                                @Html.LabelFor(m => m.SpecimenRejection.ScanOperator)&nbsp;
                                @Html.TextAreaFor(m => m.SpecimenRejection.ScanOperator, new { @maxlength = "50", @class = "border form-control-sm text-nowrap", @placeholder = "Scan Operator " })  <p class="text-danger" id="searchScanOprBlank" style="display:none">* Need Scan Operator Name? </p>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col">
                            @Html.CheckBoxFor(m => m.SpecimenRejection.SearchPartial)
                            <label class="text-nowrap"> Scan Operator Name Starts With</label>
                        </div>
                    </div>

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnsearchscanOp" name="btnsearchscanOp" class="btn btn-pill btn-outline-primary">Search</button>
                <button type="button" id="btnclosescanOp" name="btnclosescanOp" class="btn btn-pill btn-outline-danger" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

<!-- Modal Scan batchid-->
<div id="myModalscanBatch" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="display:none">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-center">Search Lab Req's by Scan Batch ID</h4>
                <button type="button" class="close" data-dismiss="modal" onclick="BtnClick('btnclosescanBatch')">&times;</button>


            </div>
            <div class="modal-body">
                <form method="get" id="searchscanBatch" name="searchscanBatch" class="form-horizontal">

                    <div class="row">
                        <div nowrap class="col">
                            <div nowrap class="form-group form-inline">
                                <label nowrap class="text-nowrap" for="scanBatch">Scan Batch ID:</label>
                                @Html.TextAreaFor(m => m.SpecimenRejection.ScanBatch, new { @maxlength = "36", @class = "form-control-plaintext text-nowrap border", @placeholder = "Enter Scan batch id " })  <p class="text-danger" id="searchScanBatchBlank" style="display:none">* Need Scan Batch ID? </p>
                                @*
                                    <input nowrap type="text" class="form-control text-nowrap border" maxlength="36" placeholder="Enter Scan Batch ID" id="scanBatch" name="scanBatch" />
                                *@
                            </div>


                        </div>
                    </div>
                    <p class="p-1" />
                    @Html.CheckBoxFor(m => m.SpecimenRejection.SearchPartial)
                    @Html.LabelFor(model => model.SpecimenRejection.SearchPartial, new { @class = "text-nowrap" })

                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnsearchscanBatch" name="btnsearscanBatch" class="btn btn-pill btn-outline-primary">Search</button>
                <button type="button" id="btnclosescanBatch" name="btnclosescanBatch" class="btn btn-pill btn-outline-danger" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>

@section scripts{
    <script>
        $(document).ready(function () {
            SessionExpireAlert(0);
            $(this).bind("contextmenu", function (e) {

                e.preventDefault();

            });
            //from year
            if ($('#searchStartDate').val() != '') {
                $('#checkboxSearchDates').css("display", "block");
                $("#searchBydate").val('searchByLogDate');
                $('#lDate').prop('checked', true);
                $('#sDate').prop('checked', false);
                $('#btnlookUpByDate').css("display", "block");
                $('#colbtnld').css("display", "block");

            }
            CompleteAjaxCall();

            $("#divLoading").hide();


            //search from year
            $('#btnFromYear').click(function () {
                SetValueUncehckCheckBoxValues();
                $("#divMain").fadeOut(100);
                $('#myModalFromYear').css("display", "block");
            });
            $('#btnCloseFromYear').click(function () {
                $("#divMain").fadeIn(100);
                $('#myModalFromYear').css("display", "none");
            });

            $('#btnsearchFromYear').click(function () {
                
                //var elmschFromYear = document.querySelectorAll("[id='SpecimenRejection_FromYear']");
              //  var elmschFromNum = document.querySelectorAll("[id='SpecimenRejection_FromNumber']");
             //   if (CheckEmptyStr(elmschFromYear[0].value, elmschFromNum[0].value)) {
                if (CheckEmptyStr($('[id="SpecimenRejection_FromNumber"]').val())) {
                    //  ShowHideDialog("searchFromYearBlank");
                    ShowHideDialog("searchFromNumberBlank");
                    return false;
                }
                var message = "Looking up Specimen Rejection Log's for Case Number ";

                ShowLoadingDialog(message);
                $('#btnCloseFromYear').click();
                $("<input type='hidden' value='searchbyFormYearNum' />")
                    .attr("id", "searchby")
                    .attr("name", "searchby")
                    .prependTo("#searchFromYear");
                $("<input type='hidden'/>")
                    .attr("value", $("#searchBydate").val())
                    .attr("id", "searchByLogScanDate")
                    .attr("name", "searchByLogScanDate")
                    .prependTo("#searchFromYear");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchStartDate').val())
                    .attr("id", "startSDate")
                    .attr("name", "startSDate")
                    .prependTo("#searchFromYear");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchEndDate').val())
                    .attr("id", "endSDate")
                    .attr("name", "endSDate")
                    .prependTo("#searchFromYear");
                $("#searchFromYear").submit();

            });


            $(document).keypress(function (e) {
                if (e.which == 13) {

                    if ($('#myModalFromYear').is(':visible')) {

                        $('#btnsearchFromYear').click();
                        return false;

                    }
                    else if ($('#myModalFromNumber').is(':visible')) {

                        $('#btnsearchFromNumber').click();
                        return false;

                    }
                    else if ($('#myModalRejectResons').is(':visible')) {


                        $('#btnsearchRejectResons').click();
                        return false;

                    }
                    else if ($('#myModalscanOp').is(':visible')) {

                        $('#btnsearchscanOp').click();
                        return false;

                    }

                    else {
                        return true;
                    }
                }
                return true;
            });



            $('#btnsearchscanOp').click(function () {
                if (CheckEmptyStr($('#SpecimenRejection_ScanOperator').val())) {

                    ShowHideDialog("searchScanOprBlank");

                    return false;
                }
                var message = "Looking up Specimen Rejection Log's for Scan Operator " + $('#SpecimenRejection_ScanOperator').val();
                ShowLoadingDialog(message);
                $('#btnclosescanOp').click();
                $("<input type='hidden' value='searchbyScanOperator' />")
                    .attr("id", "searchby")
                    .attr("name", "searchby")
                    .prependTo("#searchscanOp");
                $("<input type='hidden'/>")
                    .attr("value", $("#searchBydate").val())
                    .attr("id", "searchByLogScanDate")
                    .attr("name", "searchByLogScanDate")
                    .prependTo("#searchscanOp");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchStartDate').val())
                    .attr("id", "startSDate")
                    .attr("name", "startSDate")
                    .prependTo("#searchscanOp");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchEndDate').val())
                    .attr("id", "endSDate")
                    .attr("name", "endSDate")
                    .prependTo("#searchscanOp");
                $("#searchscanOp").submit();

            });


            $('#btnsearchscanBatch').click(function () {
                if (CheckEmptyStr($('[id="SpecimenRejection_ScanBatch"]').val())) {

                    ShowHideDialog("searchScanBatchBlank");
                    return false;
                }
                var message = "Looking up Specimen Rejection Log's for Scan Batch " + $('[id="SpecimenRejection_ScanBatch"]').val();
                ShowLoadingDialog(message);
                $('#btnclosescanBatch').click();
                $("<input type='hidden' value='scanBatch' />")
                    .attr("id", "searchby")
                    .attr("name", "searchby")
                    .prependTo("#searchscanBatch");
                $("<input type='hidden'/>")
                    .attr("value", $("#searchBydate").val())
                    .attr("id", "searchByLogScanDate")
                    .attr("name", "searchByLogScanDate")
                    .prependTo("#searchscanBatch");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchStartDate').val())
                    .attr("id", "startSDate")
                    .attr("name", "startSDate")
                    .prependTo("#searchscanBatch");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchEndDate').val())
                    .attr("id", "endSDate")
                    .attr("name", "endSDate")
                    .prependTo("#searchscanBatch");
                $("#searchscanBatch").submit();

            });

            //from number
            $('#btnFromNumber').click(function () {
                $("#divMain").fadeOut(100);
                $('#myModalFromNumber').css("display", "block");
            });
            $('#btnCloseFromNumber').click(function () {
                $("#divMain").fadeIn(100);
                $('#myModalFromNumber').css("display", "none");
            });

            //    $('#searchFromYear').click(function () {
            //        $('#btnCloseFromNumber').click();
            //        $('#searchFromYear').submit();
            //       });

            //rejection reasons
            $("#divLoading").hide();
            //search from year
            $('#btnFReason').click(function () {
                $("#divMain").fadeOut(100);
                $('#myModalRejectResons').css("display", "block");
            });
            $('#btnCloseRejectResons').click(function () {
                $("#divMain").fadeIn(100);
                $('#myModalRejectResons').css("display", "none");
            });
            //  $('#btnsearchRejectResons').click(function () {

            //    $("#searchRejectResons").submit();
            // });
            $('#btnlookUpByDate').click(function () {
                var message = "Looking up Specimen Rejection Log's for Start Date " + $('#searchStartDate').val() + ' End Date ' + $('#searchEndDate').val();
                ShowLoadingDialog(message);
                $("<input type='hidden'/>")
                    .attr("value", $('#searchStartDate').val())
                    .attr("id", "startSDate")
                    .attr("name", "startSDate")
                    .prependTo("#searchFromYear");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchEndDate').val())
                    .attr("id", "endSDate")
                    .attr("name", "endSDate")
                    .prependTo("#searchFromYear");
                $("<input type='hidden'/>")
                    .attr("value", $("#searchBydate").val())
                    .attr("id", "searchByLogScanDate")
                    .attr("name", "searchByLogScanDate")
                    .prependTo("#searchFromYear");
                $("<input type='hidden' value='searchByLogScanDate' />")
                    .attr("id", "searchby")
                    .attr("name", "searchby")
                    .prependTo("#searchFromYear");
                $("#searchFromYear").submit();
            });

            $('#btnsearchRejectResons').click(function () {


                if ($('#rejectlogreason').val() == undefined) {

                    ShowHideDialog("searchFromReasonBlank");
                    return;
                }
                if ($('#rejectlogreason').val() == 'string-empty') {

                    ShowHideDialog("searchFromReasonBlank");

                    return false;
                }

                var message = "Looking up Specimen Rejection Log's for Rejection Reason " + $('#rejectlogreason').val();
                ShowLoadingDialog(message);
                $('#btnCloseRejectResons').click();
                $("<input type='hidden' value='searchRejectResons' />")
                    .attr("id", "searchby")
                    .attr("name", "searchby")
                    .prependTo("#searchRejectResons");
                $("<input type='hidden'/>")
                    .attr("value", $("#searchBydate").val())
                    .attr("id", "searchByLogScanDate")
                    .attr("name", "searchByLogScanDate")
                    .prependTo("#searchRejectResons");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchStartDate').val())
                    .attr("id", "startSDate")
                    .attr("name", "startSDate")
                    .prependTo("#searchRejectResons");
                $("<input type='hidden'/>")
                    .attr("value", $('#searchEndDate').val())
                    .attr("id", "endSDate")
                    .attr("name", "endSDate")
                    .prependTo("#searchRejectResons");
                $("<input type='hidden'/>")
                    .attr("value", $('#rejectlogreason').val())
                    .attr("id", "rejectlogreason")
                    .attr("name", "rejectlogreason")
                    .prependTo("#searchRejectResons");
                $("#searchRejectResons").submit();

            });


            //scan operator
            $('#btnScanOpt').click(function () {
                SetValueUncehckCheckBoxValues();
                $("#divMain").fadeOut(100);
                $('#myModalscanOp').css("display", "block");
            });
            $('#btnclosescanOp').click(function () {
                $("#divMain").fadeIn(100);
                $('#myModalscanOp').css("display", "none");
            });
            //$('#btnsearchscanOp').click(function () {
            //    $('#btnclosescanOp').click();
            //    $("#searchscanOp").submit();
            //});

            //scan batch
            $('#btnSB').click(function () {
                SetValueUncehckCheckBoxValues();
                $("#divMain").fadeOut(100);
                $('#myModalscanBatch').css("display", "block");
            });
            $('#btnclosescanBatch').click(function () {
                $("#divMain").fadeIn(100);
                $('#myModalscanBatch').css("display", "none");
            });
            //   $('#btnsearchscanBatch').click(function () {
            //     $('#btnclosescanBatch').click();
            //   $("#searchscanBatch").submit();
            // });


            $('#searchStartDate').change(function () {

                if ($('#searchEndDate').val() == '') {


                    $('#checkboxSearchDates').css("display", "block");
                    $("#searchBydate").val('searchByLogDate');

                    //$("#searchBydate").val('searchByLogDate');
                    $("#lDate").prop('checked', true);
                    $('#btnlookUpByDate').css("display", "block");
                    $('#colbtnld').css("display", "block");

                }
                GetSearchStartEndDate();

            });

            $('#lDate').change(function () {
                $("#searchBydate").val('searchByLogDate');
                $('#sDate').prop('checked', false);

            });
            $('#sDate').change(function () {
                $("#lDate").prop('checked', false);
                $("#searchBydate").val('searchByScanDate');

            });
            $('#searchEndDate').change(function () {
                CheckSearchStartDate();

            });
            $('#searchByScanDate').change(function () {

                if ($('#searchByLogDate').prop('check', true)) {
                    $('#searchByLogDate').click();
                }
                if ($('#searchByScanDate').prop('check', true)) {
                    $('#searchByScanDate').prop('check', false)
                }

            });
        });//end doc ready
    </script>
}
