@page
@model Edocs.ITS.AppService.Pages.Partial_Pages.PartialPageCustomerInvoiceModel
@{
    Layout = null;
}
@*
    <head>
        <link rel="stylesheet" href="~/css/site.css" />
        <link rel="stylesheet" href="~/css/datatables-select.min.css" />
        <link rel="stylesheet" href="~/css/datatables.min.css" />
        <script src="~/lib/datatables/datatables-select.min.js"></script>
        <script src="~/lib/datatables/datatables.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="~/js/site.js" asp-append-version="true"></script>




    </head>
    <html>

    <body>
*@
<div class="container-fluid">
    @if ((@Model.Invoice != null) && (@Model.Invoice.Count() > 0))
    {
        <button id="dannp">hello</button>
        <table class="table table-hover w-auto table-bordered  table-info" id="tableInv">

            <thead>
                <tr class="w-auto" style="background-color: crimson; font-size: medium">
                    <th>ID</th>
                    <th>Name</th>
                    <th>Number</th>
                    <th>Scanning Start Date</th>
                    <th>Scanning End Date</th>
                    <th>Paid</th>
                    <th>Amount Paid</th>
                    <th>Invoice Amount</th>
                    <th>Amount Owed</th>
                    <th>Invoice Paid</th>
                    <th>UpDate Invoice</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var id in Model.Invoice)
                {
                    var owe = (@id.TotalPaid - @id.TotalInvoiceAmount);
                    <tr>
                        <td>@id.EdocsCustomerID</td>
                        <td>@id.EdocsCustomerName</td>
                        <td id="string.Format(invNum_{0}, @id.InvoiceNum)">@id.InvoiceNum</td>
                        <td>@id.InvoiceStartDate.ToString("MM-dd-yyyy")</td>
                        <td>@id.InvoiceEndDate.ToString("MM-dd-yyyy")</td>
                        @*
                                        @if (@id.DateInvoicePaid.Year < 2003)
                                        {

                                            <td>@Html.EditorFor(m => id.DateInvoicePaid, new { @name = "string.Format(datePaid_{0}, @id.InvoiceNum)", @id = "string.Format(datePaid_{0}, @id.InvoiceNum)", @class = "text-center" })</td>
                                        }
                                        else
                                        {
                                            <td>@Html.EditorFor(m => id.DateInvoicePaid, new { @name = "string.Format(datePaid_{0}, @id.InvoiceNum)", @id = "string.Format(datePaid_{0}, @id.InvoiceNum)", @class = "text-center" })</td>
                                        }

                            <td id="string.Format(datepaid_{0}, @id.InvoiceNum)">@id.DateInvoicePaid.ToString("MM-dd-yyyy")</td>
                        *@
                        <td id="string.Format(totalamount_{0}, @id.InvoiceNum)">$@id.TotalAmountPaid</td>
                        <td>@Html.TextBoxFor(m => @id.TotalPaid, new { @name = "string.Format(totalPaid_{0}, @id.InvoiceNum)", @id = "string.Format(totalPaid_, @id.InvoiceNum)", @class = "text-center", @style = "width:75px;" })</td>

                        <td>$@id.TotalInvoiceAmount</td>
                        <td>$@owe</td>
                        <td>
                            <input type="checkbox" id="string.Format(InvoicePaid_{0}, @id.InvoiceNum)" value="No" />
                        </td>
                        <td><button id="btn2" class="btn btn-info" data_value1="string.Format(invNum_{0}, @id.InvoiceNum)">UpDate</button></td>
                    </tr>

                }
            </tbody>
        </table>
    }
    else
    {
        <p class="text-body text-dark">Cound not get invoices</p>
    }
</div>
 